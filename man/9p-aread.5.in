.TH 9p-aread 5 "@META_DATE@" "@META_ALIAS@" "@META_NAME@"
.SH NAME
9p aread, awrite \- atomically transfer data from and to a file
.SH SYNOPSIS
.nf
size[4] Taread tag[2] fid[4] datacheck[1] offset[8] count[4] rsize[4]
size[4] Raread tag[2] count[4] data[count] check[4]
.fi
.LP
.nf
size[4] Tawrite tag[2] fid[4] datacheck[1] offset[8] count[4] rsize[4] data[count] check[4]
size[4] Rawrite tag[2] count[4]
.fi
.SH DESCRIPTION
Handle large I/O requests atomically.
.LP
These are like read/write except when a read/write system call has to
make multiple calls due to msize constraints, aread/awrite present
the original request size in rsize so that the server can make one
read/write call and buffer it, preserving atomicity.
The rsize decreases on successive calls
by the total number of bytes transferred until it is equal to
count on the last call.
.LP
In addition, data is protected by an optional 32 bit check field.
The datacheck field configures checksum behavior (0x00 for disabled,
0x01 for Adler32).
.SH ORIGIN
diod
.LP
9p-intro(5)
