.TH diod 8 "@META_DATE@" "@META_ALIAS@" "@META_NAME@"
.SH NAME
diodctl \- distributed I/O daemon superserver
.SH SYNOPSIS
.B diodctl
.I "[OPTIONS]"
.SH DESCRIPTION
.B diodctl
is the distributed I/O daemon super-server, which
supplies a list of exported file systems and can dynamically start
.B diod
servers when requested by
.B diodmount.
.LP
Configuration is read from the diod.conf (5) config file.
Some configuration can be overridden on the command line, as described below.
.SH OPTIONS
.TP
.I "-f, --foreground"
Do not change working directory to @X_LOCALSTATEDIR@/run,
drop the controlling terminal, or run in the background.
Send logs to stderr not syslog.
.TP
.I "-d, --debug MASK"
Set the debug mask.  The bit values are:
0x1 log decoded 9P protocol messages;
0x2 log any 9P operation errors.
.TP
.I "-l, --listen IP:PORT"
Set the listen address (default 0.0.0.0:10005).  
A list of listen addresses can be specified in the config file 
(diodctllisten parameter) but the command line accepts only one.
.TP
.I "-w, --nwthreads INT"
Set the number of worker threads to spawn to handle 9P operations.
The default is 16.
.TP
.I "-c, --config-file PATH"
Set config file path.
.TP
.I "-e, --export PATH"
Set the file system to be exported.
A list of exports can be specified in the config file (exports parameter),
but the command line accepts only one.
For \fBdiodctl\fR this affects the file systems that are listed
by \fBdiodmount -x\fR.
.TP
.I "-a, --allowany"
Override TCP wrappers checks and allow any client to connect.
.TP
.I "-m, --no-munge-auth"
Allow users to attach without security credentials.
This option is intended for testing only.
.TP
.I "-D, --diod-path PATH"
Override the default path to the \fBdiod\fR server executable.
This option is intended for testing only.
.TP
.I "-p, --allow-private"
Enable the spawning of private instances of the \fBdiod\fR server.
.SH "LOGGING"
\fBdiodctl\fR logs all messages to the LOG_DAEMON syslog facility
at LOG_ERR severity.
.SH "FILES"
@X_SBINDIR@/diodctl
.br
@X_SYSCONFDIR@/diod.conf
.br
@X_LOCALSTATEDIR@/run/diodctl.pid
.SH "SEE ALSO"
diod (8), diodmount (8), diod.conf (5), hosts_access (5)
